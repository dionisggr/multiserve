@baseUrl = http://localhost:8000

### Generate random email
# Send this every time you need a new one for registering below
# @name uuid
GET {{baseUrl}}/utils/uuid

### Register (Create user)
@email = {{uuid.response.body.$}}
POST {{baseUrl}}/apps/demo/register
Authorization: Bearer {{$dotenv API_KEY}}
Content-Type: application/json

{
  "email": "{{email}}@example.com",
  "password": "{{$dotenv ADMIN_PASSWORD}}"
}

### Login as ADMIN (Authentication)
POST {{baseUrl}}/apps/demo/login
Authorization: Bearer {{$dotenv API_KEY}}
Content-Type: application/json

{
  "email": "{{$dotenv ADMIN_EMAIL}}",
  "password": "{{$dotenv ADMIN_PASSWORD}}"
}

### Login as USER (Authentication)
POST {{baseUrl}}/apps/demo/login
Authorization: Bearer {{$dotenv API_KEY}}
Content-Type: application/json

{
  "email": "demo@tec3org.com",
  "password": "password"
}

### 2FA - Reset password
POST {{baseUrl}}/apps/demo/passwords/reset
Authorization: Bearer {{$dotenv API_KEY}}
Content-Type: application/json

{
  "email": "{{$dotenv ADMIN_PASSWORD}}"
}

### 2FA - Verify 2FA code
# Requires sending 2FA request first (code will log)
POST {{baseUrl}}/apps/demo/passwords/verify
Authorization: Bearer {{$dotenv API_KEY}}
Content-Type: application/json

{
  "email": "{{$dotenv ADMIN_PASSWORD}}",
  "code": "c0ef27"
}
